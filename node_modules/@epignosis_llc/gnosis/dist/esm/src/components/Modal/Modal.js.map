{"version":3,"file":"Modal.js","sources":["../../../../../src/components/Modal/Modal.tsx"],"sourcesContent":["import React, { CSSProperties, FC, ReactElement, cloneElement, Children } from \"react\";\nimport { ClassNames } from \"@emotion/react\";\nimport ReactModal, { Props } from \"react-modal\";\nimport Heading from \"../Heading/Heading\";\nimport { CloseCircledSVG } from \"../../icons/\";\nimport { modalContent, modalFooter, modalHeader, portalStyles } from \"./styles\";\n\nexport type HeaderProps = {\n  onClose?: () => void;\n};\n\nconst Header: FC<HeaderProps> = ({ children, onClose }) => {\n  const title = typeof children === \"string\" ? <Heading size=\"md\">{children}</Heading> : children;\n  return (\n    <header css={modalHeader} data-testid=\"modal-header\">\n      <div>{title}</div>\n      {onClose && (\n        <a role=\"button\" className=\"close-btn\" aria-label=\"Close button\" onClick={onClose}>\n          <CloseCircledSVG height={28} />\n        </a>\n      )}\n    </header>\n  );\n};\n\ntype BodyProps = {\n  style?: CSSProperties;\n};\n\nconst Body: FC<BodyProps> = ({ children, style }) => {\n  return (\n    <article style={style} css={modalContent}>\n      {children}\n    </article>\n  );\n};\n\ntype FooterProps = {\n  style?: CSSProperties;\n};\n\nconst Footer: FC<FooterProps> = ({ children, style }) => {\n  return (\n    <footer style={style} css={modalFooter} data-testid=\"modal-footer\">\n      {children}\n    </footer>\n  );\n};\n\ntype ModalCompoundProps = {\n  Header: FC<Omit<HeaderProps, \"onClose\">>;\n  Body: FC<BodyProps>;\n  Footer: FC<FooterProps>;\n};\n\nexport type Size = \"md\" | \"lg\" | \"fullscreen\";\n\nexport type ReactModalProps = Pick<Props, \"isOpen\"> & {\n  onClose?: () => void;\n  size?: Size;\n  rootElementSelector?: string;\n  closeOnOutsideClick?: boolean;\n  style?: ReactModal.Styles;\n};\n\nconst Modal: FC<ReactModalProps> & ModalCompoundProps = ({\n  children,\n  isOpen,\n  onClose = () => void 0,\n  size = \"md\",\n  rootElementSelector = \"#app\",\n  closeOnOutsideClick = true,\n  style,\n}) => {\n  const rootElement = document.querySelector(rootElementSelector) as HTMLElement;\n  const clonedChildren = Children.map(children, (child) =>\n    cloneElement(child as ReactElement, {\n      onClose,\n    }),\n  );\n\n  return (\n    <ClassNames>\n      {({ css }): JSX.Element => (\n        <ReactModal\n          isOpen={isOpen}\n          appElement={rootElement}\n          onRequestClose={onClose}\n          contentLabel=\"modal\"\n          overlayClassName={{\n            base: \"overlay-base\",\n            afterOpen: \"overlay-after\",\n            beforeClose: \"overlay-before\",\n          }}\n          className={{\n            base: \"content-base\",\n            afterOpen: \"content-after\",\n            beforeClose: \"content-before\",\n          }}\n          closeTimeoutMS={200}\n          portalClassName={css(portalStyles(size))}\n          ariaHideApp={false}\n          shouldCloseOnOverlayClick={closeOnOutsideClick}\n          style={style}\n        >\n          {clonedChildren}\n        </ReactModal>\n      )}\n    </ClassNames>\n  );\n};\n\nModal.Header = Header;\nModal.Body = Body;\nModal.Footer = Footer;\n\nexport default Modal;\n"],"names":["Header","children","onClose","title","___EmotionJSX","modalHeader","CloseCircledSVG","Body","style","modalContent","Footer","modalFooter","Modal","isOpen","size","rootElementSelector","closeOnOutsideClick","rootElement","document","querySelector","clonedChildren","Children","map","child","cloneElement","css","base","afterOpen","beforeClose","portalStyles"],"mappings":"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"}