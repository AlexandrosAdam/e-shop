{"version":3,"file":"Drawer.js","sources":["../../../../../src/components/Card/Drawer.tsx"],"sourcesContent":["import React, { FC, ReactNode } from \"react\";\nimport { m, AnimatePresence, Variants, Transition } from \"framer-motion\";\nimport { useClickAway } from \"@umijs/hooks\";\nimport { CloseSVG } from \"../../icons/\";\nimport { drawerContainer } from \"./styles\";\n\nexport type DrawerProps = FC<{\n  isOpen: boolean;\n  onClose: () => void;\n  title?: ReactNode;\n  footer?: ReactNode;\n}>;\n\nconst transition: Transition = {\n  duration: 0.25,\n  ease: \"easeInOut\",\n};\n\nconst drawerContainerVariants: Variants = {\n  open: {\n    width: \"100%\",\n    transition: {\n      ...transition,\n      when: \"beforeChildren\",\n    },\n    transitionEnd: {\n      overflowY: \"auto\",\n    },\n  },\n  closed: {\n    width: \"0%\",\n    overflowY: \"hidden\",\n    transition: {\n      ...transition,\n      when: \"afterChildren\",\n    },\n  },\n};\n\nconst drawerContentVariants: Variants = {\n  open: {\n    opacity: 1,\n  },\n  closed: {\n    opacity: 0,\n  },\n};\n\nconst Drawer: DrawerProps = ({ isOpen, onClose, title, footer, children }) => {\n  const containerRef = useClickAway((): void => {\n    if (isOpen) {\n      onClose();\n    }\n  });\n\n  return (\n    <AnimatePresence>\n      {isOpen && (\n        <m.section\n          css={drawerContainer}\n          ref={containerRef}\n          initial=\"closed\"\n          animate={isOpen && \"open\"}\n          exit=\"closed\"\n          variants={drawerContainerVariants}\n        >\n          <m.div className=\"content-wrapper\" variants={drawerContentVariants}>\n            <div>\n              <header>\n                <div>{title}</div>\n                <button onClick={onClose}>\n                  <CloseSVG height={16} />\n                </button>\n              </header>\n              <p>{children}</p>\n            </div>\n            {footer && <footer>{footer}</footer>}\n          </m.div>\n        </m.section>\n      )}\n    </AnimatePresence>\n  );\n};\n\nexport default Drawer;\n"],"names":["transition","duration","ease","drawerContainerVariants","open","width","when","transitionEnd","overflowY","closed","drawerContentVariants","opacity","Drawer","isOpen","onClose","title","footer","children","containerRef","useClickAway","___EmotionJSX","drawerContainer","CloseSVG"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAaA,IAAMA,UAAsB,GAAG;AAC7BC,EAAAA,QAAQ,EAAE,IADmB;AAE7BC,EAAAA,IAAI,EAAE,WAAA;AAFuB,CAA/B,CAAA;AAKA,IAAMC,uBAAiC,GAAG;AACxCC,EAAAA,IAAI,EAAE;AACJC,IAAAA,KAAK,EAAE,MADH;AAEJL,IAAAA,UAAU,oCACLA,UADK,CAAA,EAAA,EAAA,EAAA;AAERM,MAAAA,IAAI,EAAE,gBAAA;AAFE,KAFN,CAAA;AAMJC,IAAAA,aAAa,EAAE;AACbC,MAAAA,SAAS,EAAE,MAAA;AADE,KAAA;AANX,GADkC;AAWxCC,EAAAA,MAAM,EAAE;AACNJ,IAAAA,KAAK,EAAE,IADD;AAENG,IAAAA,SAAS,EAAE,QAFL;AAGNR,IAAAA,UAAU,oCACLA,UADK,CAAA,EAAA,EAAA,EAAA;AAERM,MAAAA,IAAI,EAAE,eAAA;AAFE,KAAA,CAAA;AAHJ,GAAA;AAXgC,CAA1C,CAAA;AAqBA,IAAMI,qBAA+B,GAAG;AACtCN,EAAAA,IAAI,EAAE;AACJO,IAAAA,OAAO,EAAE,CAAA;AADL,GADgC;AAItCF,EAAAA,MAAM,EAAE;AACNE,IAAAA,OAAO,EAAE,CAAA;AADH,GAAA;AAJ8B,CAAxC,CAAA;;AASA,IAAMC,MAAmB,GAAG,SAAtBA,MAAsB,CAAkD,IAAA,EAAA;AAAA,EAA/CC,IAAAA,MAA+C,QAA/CA,MAA+C;AAAA,MAAvCC,OAAuC,QAAvCA,OAAuC;AAAA,MAA9BC,KAA8B,QAA9BA,KAA8B;AAAA,MAAvBC,MAAuB,QAAvBA,MAAuB;AAAA,MAAfC,QAAe,QAAfA,QAAe,CAAA;AAC5E,EAAA,IAAMC,YAAY,GAAGC,YAAY,CAAC,YAAY;AAC5C,IAAA,IAAIN,MAAJ,EAAY;AACVC,MAAAA,OAAO,EAAA,CAAA;AACR,KAAA;AACF,GAJgC,CAAjC,CAAA;AAMA,EACE,OAAAM,GAAA,CAAC,eAAD,EACGP,IAAAA,EAAAA,MAAM,IACLO,GAAC,CAAA,CAAD,CAAG,OAAH,EAAA;AACE,IAAA,GAAG,EAAEC,eADP;AAEE,IAAA,GAAG,EAAEH,YAFP;AAGE,IAAA,OAAO,EAAC,QAHV;AAIE,IAAA,OAAO,EAAEL,MAAM,IAAI,MAJrB;AAKE,IAAA,IAAI,EAAC,QALP;AAME,IAAA,QAAQ,EAAEV,uBAAAA;AANZ,GAQE,EAAAiB,GAAA,CAAC,CAAD,CAAG,GAAH,EAAA;AAAO,IAAA,SAAS,EAAC,iBAAjB;AAAmC,IAAA,QAAQ,EAAEV,qBAAAA;AAA7C,GAAA,EACEU,GACE,CAAA,KAAA,EAAA,IAAA,EAAAA,GAAA,CAAA,QAAA,EAAA,IAAA,EACEA,GAAML,CAAAA,KAAAA,EAAAA,IAAAA,EAAAA,KAAN,CADF,EAEEK,GAAA,CAAA,QAAA,EAAA;AAAQ,IAAA,OAAO,EAAEN,OAAAA;AAAjB,GAAA,EACEM,IAACE,QAAD,EAAA;AAAU,IAAA,MAAM,EAAE,EAAA;AAAlB,GAAA,CADF,CAFF,CADF,EAOEF,GAAA,CAAA,GAAA,EAAA,IAAA,EAAIH,QAAJ,CAPF,CADF,EAUGD,MAAM,IAAII,GAASJ,CAAAA,QAAAA,EAAAA,IAAAA,EAAAA,MAAT,CAVb,CARF,CAFJ,CADF,CAAA;AA2BD;;;;"}