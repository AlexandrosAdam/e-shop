{"version":3,"file":"use-visual-element.mjs.js","sources":["../../../../../../../../node_modules/framer-motion/dist/es/motion/utils/use-visual-element.mjs"],"sourcesContent":["import { useContext, useRef, useEffect } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { useVisualElementContext } from '../../context/MotionContext/index.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\nimport { LazyContext } from '../../context/LazyContext.mjs';\nimport { useReducedMotionConfig } from '../../utils/use-reduced-motion.mjs';\n\nfunction useVisualElement(Component, visualState, props, createVisualElement) {\n    var lazyContext = useContext(LazyContext);\n    var parent = useVisualElementContext();\n    var presenceContext = useContext(PresenceContext);\n    var shouldReduceMotion = useReducedMotionConfig();\n    var visualElementRef = useRef(undefined);\n    /**\n     * If we haven't preloaded a renderer, check to see if we have one lazy-loaded\n     */\n    if (!createVisualElement)\n        createVisualElement = lazyContext.renderer;\n    if (!visualElementRef.current && createVisualElement) {\n        visualElementRef.current = createVisualElement(Component, {\n            visualState: visualState,\n            parent: parent,\n            props: props,\n            presenceId: presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.id,\n            blockInitialAnimation: (presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.initial) === false,\n            shouldReduceMotion: shouldReduceMotion,\n        });\n    }\n    var visualElement = visualElementRef.current;\n    useIsomorphicLayoutEffect(function () {\n        visualElement === null || visualElement === void 0 ? void 0 : visualElement.syncRender();\n    });\n    useEffect(function () {\n        var _a;\n        (_a = visualElement === null || visualElement === void 0 ? void 0 : visualElement.animationState) === null || _a === void 0 ? void 0 : _a.animateChanges();\n    });\n    useIsomorphicLayoutEffect(function () { return function () { return visualElement === null || visualElement === void 0 ? void 0 : visualElement.notifyUnmount(); }; }, []);\n    return visualElement;\n}\n\nexport { useVisualElement };\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAOA,SAAS,gBAAgB,CAAC,SAAS,EAAE,WAAW,EAAE,KAAK,EAAE,mBAAmB,EAAE;AAC9E,IAAI,IAAI,WAAW,GAAG,UAAU,CAAC,WAAW,CAAC,CAAC;AAC9C,IAAI,IAAI,MAAM,GAAG,uBAAuB,EAAE,CAAC;AAC3C,IAAI,IAAI,eAAe,GAAG,UAAU,CAAC,eAAe,CAAC,CAAC;AACtD,IAAI,IAAI,kBAAkB,GAAG,sBAAsB,EAAE,CAAC;AACtD,IAAI,IAAI,gBAAgB,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;AAC7C;AACA;AACA;AACA,IAAI,IAAI,CAAC,mBAAmB;AAC5B,QAAQ,mBAAmB,GAAG,WAAW,CAAC,QAAQ,CAAC;AACnD,IAAI,IAAI,CAAC,gBAAgB,CAAC,OAAO,IAAI,mBAAmB,EAAE;AAC1D,QAAQ,gBAAgB,CAAC,OAAO,GAAG,mBAAmB,CAAC,SAAS,EAAE;AAClE,YAAY,WAAW,EAAE,WAAW;AACpC,YAAY,MAAM,EAAE,MAAM;AAC1B,YAAY,KAAK,EAAE,KAAK;AACxB,YAAY,UAAU,EAAE,eAAe,KAAK,IAAI,IAAI,eAAe,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,eAAe,CAAC,EAAE;AAC5G,YAAY,qBAAqB,EAAE,CAAC,eAAe,KAAK,IAAI,IAAI,eAAe,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,eAAe,CAAC,OAAO,MAAM,KAAK;AACxI,YAAY,kBAAkB,EAAE,kBAAkB;AAClD,SAAS,CAAC,CAAC;AACX,KAAK;AACL,IAAI,IAAI,aAAa,GAAG,gBAAgB,CAAC,OAAO,CAAC;AACjD,IAAI,yBAAyB,CAAC,YAAY;AAC1C,QAAQ,aAAa,KAAK,IAAI,IAAI,aAAa,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,aAAa,CAAC,UAAU,EAAE,CAAC;AACjG,KAAK,CAAC,CAAC;AACP,IAAI,SAAS,CAAC,YAAY;AAC1B,QAAQ,IAAI,EAAE,CAAC;AACf,QAAQ,CAAC,EAAE,GAAG,aAAa,KAAK,IAAI,IAAI,aAAa,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,aAAa,CAAC,cAAc,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,cAAc,EAAE,CAAC;AACnK,KAAK,CAAC,CAAC;AACP,IAAI,yBAAyB,CAAC,YAAY,EAAE,OAAO,YAAY,EAAE,OAAO,aAAa,KAAK,IAAI,IAAI,aAAa,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,aAAa,CAAC,aAAa,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;AAC/K,IAAI,OAAO,aAAa,CAAC;AACzB;;;;"}