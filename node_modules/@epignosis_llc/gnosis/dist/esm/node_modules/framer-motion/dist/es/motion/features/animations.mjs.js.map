{"version":3,"file":"animations.mjs.js","sources":["../../../../../../../../node_modules/framer-motion/dist/es/motion/features/animations.mjs"],"sourcesContent":["import { __read } from 'tslib';\nimport { useEffect, useContext } from 'react';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { usePresence } from '../../components/AnimatePresence/use-presence.mjs';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { createAnimationState } from '../../render/utils/animation-state.mjs';\nimport { AnimationType } from '../../render/utils/types.mjs';\nimport { makeRenderlessComponent } from '../utils/make-renderless-component.mjs';\n\nvar animations = {\n    animation: makeRenderlessComponent(function (_a) {\n        var visualElement = _a.visualElement, animate = _a.animate;\n        /**\n         * We dynamically generate the AnimationState manager as it contains a reference\n         * to the underlying animation library. We only want to load that if we load this,\n         * so people can optionally code split it out using the `m` component.\n         */\n        visualElement.animationState || (visualElement.animationState = createAnimationState(visualElement));\n        /**\n         * Subscribe any provided AnimationControls to the component's VisualElement\n         */\n        if (isAnimationControls(animate)) {\n            useEffect(function () { return animate.subscribe(visualElement); }, [animate]);\n        }\n    }),\n    exit: makeRenderlessComponent(function (props) {\n        var custom = props.custom, visualElement = props.visualElement;\n        var _a = __read(usePresence(), 2), isPresent = _a[0], safeToRemove = _a[1];\n        var presenceContext = useContext(PresenceContext);\n        useEffect(function () {\n            var _a, _b;\n            visualElement.isPresent = isPresent;\n            var animation = (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Exit, !isPresent, { custom: (_b = presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.custom) !== null && _b !== void 0 ? _b : custom });\n            !isPresent && (animation === null || animation === void 0 ? void 0 : animation.then(safeToRemove));\n        }, [isPresent]);\n    }),\n};\n\nexport { animations };\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AASG,IAAC,UAAU,GAAG;AACjB,IAAI,SAAS,EAAE,uBAAuB,CAAC,UAAU,EAAE,EAAE;AACrD,QAAQ,IAAI,aAAa,GAAG,EAAE,CAAC,aAAa,EAAE,OAAO,GAAG,EAAE,CAAC,OAAO,CAAC;AACnE;AACA;AACA;AACA;AACA;AACA,QAAQ,aAAa,CAAC,cAAc,KAAK,aAAa,CAAC,cAAc,GAAG,oBAAoB,CAAC,aAAa,CAAC,CAAC,CAAC;AAC7G;AACA;AACA;AACA,QAAQ,IAAI,mBAAmB,CAAC,OAAO,CAAC,EAAE;AAC1C,YAAY,SAAS,CAAC,YAAY,EAAE,OAAO,OAAO,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,EAAE,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;AAC3F,SAAS;AACT,KAAK,CAAC;AACN,IAAI,IAAI,EAAE,uBAAuB,CAAC,UAAU,KAAK,EAAE;AACnD,QAAQ,IAAI,MAAM,GAAG,KAAK,CAAC,MAAM,EAAE,aAAa,GAAG,KAAK,CAAC,aAAa,CAAC;AACvE,QAAQ,IAAI,EAAE,GAAG,MAAM,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC,EAAE,SAAS,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,YAAY,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;AACnF,QAAQ,IAAI,eAAe,GAAG,UAAU,CAAC,eAAe,CAAC,CAAC;AAC1D,QAAQ,SAAS,CAAC,YAAY;AAC9B,YAAY,IAAI,EAAE,EAAE,EAAE,CAAC;AACvB,YAAY,aAAa,CAAC,SAAS,GAAG,SAAS,CAAC;AAChD,YAAY,IAAI,SAAS,GAAG,CAAC,EAAE,GAAG,aAAa,CAAC,cAAc,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC,SAAS,EAAE,EAAE,MAAM,EAAE,CAAC,EAAE,GAAG,eAAe,KAAK,IAAI,IAAI,eAAe,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,eAAe,CAAC,MAAM,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;AACvS,YAAY,CAAC,SAAS,KAAK,SAAS,KAAK,IAAI,IAAI,SAAS,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;AAC/G,SAAS,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC;AACxB,KAAK,CAAC;AACN;;;;"}