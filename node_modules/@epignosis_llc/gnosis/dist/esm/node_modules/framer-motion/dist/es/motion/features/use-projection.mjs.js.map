{"version":3,"file":"use-projection.mjs.js","sources":["../../../../../../../../node_modules/framer-motion/dist/es/motion/features/use-projection.mjs"],"sourcesContent":["import { isRefObject } from '../../utils/is-ref-object.mjs';\nimport { useContext } from 'react';\nimport { SwitchLayoutGroupContext } from '../../context/SwitchLayoutGroupContext.mjs';\n\nfunction useProjection(projectionId, _a, visualElement, ProjectionNodeConstructor) {\n    var _b;\n    var layoutId = _a.layoutId, layout = _a.layout, drag = _a.drag, dragConstraints = _a.dragConstraints, layoutScroll = _a.layoutScroll;\n    var initialPromotionConfig = useContext(SwitchLayoutGroupContext);\n    if (!ProjectionNodeConstructor ||\n        !visualElement ||\n        (visualElement === null || visualElement === void 0 ? void 0 : visualElement.projection)) {\n        return;\n    }\n    visualElement.projection = new ProjectionNodeConstructor(projectionId, visualElement.getLatestValues(), (_b = visualElement.parent) === null || _b === void 0 ? void 0 : _b.projection);\n    visualElement.projection.setOptions({\n        layoutId: layoutId,\n        layout: layout,\n        alwaysMeasureLayout: Boolean(drag) || (dragConstraints && isRefObject(dragConstraints)),\n        visualElement: visualElement,\n        scheduleRender: function () { return visualElement.scheduleRender(); },\n        /**\n         * TODO: Update options in an effect. This could be tricky as it'll be too late\n         * to update by the time layout animations run.\n         * We also need to fix this safeToRemove by linking it up to the one returned by usePresence,\n         * ensuring it gets called if there's no potential layout animations.\n         *\n         */\n        animationType: typeof layout === \"string\" ? layout : \"both\",\n        initialPromotionConfig: initialPromotionConfig,\n        layoutScroll: layoutScroll,\n    });\n}\n\nexport { useProjection };\n"],"names":[],"mappings":";;;;;;;;;;;;AAIA,SAAS,aAAa,CAAC,YAAY,EAAE,EAAE,EAAE,aAAa,EAAE,yBAAyB,EAAE;AACnF,IAAI,IAAI,EAAE,CAAC;AACX,IAAI,IAAI,QAAQ,GAAG,EAAE,CAAC,QAAQ,EAAE,MAAM,GAAG,EAAE,CAAC,MAAM,EAAE,IAAI,GAAG,EAAE,CAAC,IAAI,EAAE,eAAe,GAAG,EAAE,CAAC,eAAe,EAAE,YAAY,GAAG,EAAE,CAAC,YAAY,CAAC;AACzI,IAAI,IAAI,sBAAsB,GAAG,UAAU,CAAC,wBAAwB,CAAC,CAAC;AACtE,IAAI,IAAI,CAAC,yBAAyB;AAClC,QAAQ,CAAC,aAAa;AACtB,SAAS,aAAa,KAAK,IAAI,IAAI,aAAa,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,aAAa,CAAC,UAAU,CAAC,EAAE;AAClG,QAAQ,OAAO;AACf,KAAK;AACL,IAAI,aAAa,CAAC,UAAU,GAAG,IAAI,yBAAyB,CAAC,YAAY,EAAE,aAAa,CAAC,eAAe,EAAE,EAAE,CAAC,EAAE,GAAG,aAAa,CAAC,MAAM,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,UAAU,CAAC,CAAC;AAC5L,IAAI,aAAa,CAAC,UAAU,CAAC,UAAU,CAAC;AACxC,QAAQ,QAAQ,EAAE,QAAQ;AAC1B,QAAQ,MAAM,EAAE,MAAM;AACtB,QAAQ,mBAAmB,EAAE,OAAO,CAAC,IAAI,CAAC,KAAK,eAAe,IAAI,WAAW,CAAC,eAAe,CAAC,CAAC;AAC/F,QAAQ,aAAa,EAAE,aAAa;AACpC,QAAQ,cAAc,EAAE,YAAY,EAAE,OAAO,aAAa,CAAC,cAAc,EAAE,CAAC,EAAE;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,aAAa,EAAE,OAAO,MAAM,KAAK,QAAQ,GAAG,MAAM,GAAG,MAAM;AACnE,QAAQ,sBAAsB,EAAE,sBAAsB;AACtD,QAAQ,YAAY,EAAE,YAAY;AAClC,KAAK,CAAC,CAAC;AACP;;;;"}