{"version":3,"file":"windowVisible.js","sources":["../../../../../../../node_modules/@umijs/use-request/es/utils/windowVisible.js"],"sourcesContent":["// from swr\nimport { isDocumentVisible } from './index';\nvar listeners = [];\n\nfunction subscribe(listener) {\n  listeners.push(listener);\n  return function unsubscribe() {\n    var index = listeners.indexOf(listener);\n    listeners.splice(index, 1);\n  };\n}\n\nvar eventsBinded = false;\n\nif (typeof window !== 'undefined' && window.addEventListener && !eventsBinded) {\n  var revalidate = function revalidate() {\n    if (!isDocumentVisible()) return;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n  };\n\n  window.addEventListener('visibilitychange', revalidate, false); // only bind the events once\n\n  eventsBinded = true;\n}\n\nexport default subscribe;"],"names":[],"mappings":";;;;;;;;;;AAAA;AAEA,IAAI,SAAS,GAAG,EAAE,CAAC;AASnB;AACA,IAAI,YAAY,GAAG,KAAK,CAAC;AACzB;AACA,IAAI,OAAO,MAAM,KAAK,WAAW,IAAI,MAAM,CAAC,gBAAgB,IAAI,CAAC,YAAY,EAAE;AAC/E,EAAE,IAAI,UAAU,GAAG,SAAS,UAAU,GAAG;AACzC,IAAI,IAAI,CAAC,iBAAiB,EAAE,EAAE,OAAO;AACrC;AACA,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC/C,MAAM,IAAI,QAAQ,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;AAClC,MAAM,QAAQ,EAAE,CAAC;AACjB,KAAK;AACL,GAAG,CAAC;AACJ;AACA,EAAE,MAAM,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC;AACjE;AACA,EAAE,YAAY,GAAG,IAAI,CAAC;AACtB"}